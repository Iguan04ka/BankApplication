2024-12-05 10:42:31 [main] INFO  r.i.calculator.CalculatorApplication - Application start
2024-12-05 10:42:32 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-12-05 10:42:32 [main] INFO  r.i.calculator.CalculatorApplication - Starting CalculatorApplication using Java 22.0.2 with PID 32 (D:\JDK and IDEA\Projects JAVA\NeoStudyProject\calculator\target\classes started by Iguan04ka in D:\JDK and IDEA\Projects JAVA\NeoStudyProject\calculator)
2024-12-05 10:42:32 [main] INFO  r.i.calculator.CalculatorApplication - No active profile set, falling back to 1 default profile: "default"
2024-12-05 10:42:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-12-05 10:42:34 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-12-05 10:42:34 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-12-05 10:42:34 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-05 10:42:34 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-12-05 10:42:34 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1579 ms
2024-12-05 10:42:34 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loanProperties': Injection of autowired dependencies failed
2024-12-05 10:42:34 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-12-05 10:42:34 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-12-05 10:42:34 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loanProperties': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at ru.iguana.calculator.CalculatorApplication.main(CalculatorApplication.java:12)
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'loan.baseRate' in value "${loan.baseRate}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:964)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1374)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	... 17 common frames omitted
2024-12-05 10:43:03 [main] INFO  r.i.calculator.CalculatorApplication - Application start
2024-12-05 10:43:03 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-12-05 10:43:04 [main] INFO  r.i.calculator.CalculatorApplication - Starting CalculatorApplication using Java 22.0.2 with PID 1192 (D:\JDK and IDEA\Projects JAVA\NeoStudyProject\calculator\target\classes started by Iguan04ka in D:\JDK and IDEA\Projects JAVA\NeoStudyProject\calculator)
2024-12-05 10:43:04 [main] INFO  r.i.calculator.CalculatorApplication - No active profile set, falling back to 1 default profile: "default"
2024-12-05 10:43:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-12-05 10:43:05 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-12-05 10:43:05 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-12-05 10:43:05 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-05 10:43:05 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-12-05 10:43:05 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1242 ms
2024-12-05 10:43:05 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-12-05 10:43:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-12-05 10:43:05 [main] INFO  r.i.calculator.CalculatorApplication - Started CalculatorApplication in 2.304 seconds (process running for 3.064)
2024-12-05 10:43:26 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05 10:43:26 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-05 10:43:26 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-12-05 10:43:26 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public java.util.List<ru.iguana.calculator.api.dto.LoanOfferDto> ru.iguana.calculator.api.controller.CalculatorController.calculateLoanOffers(ru.iguana.calculator.api.dto.LoanStatementRequestDto): [Field error in object 'loanStatementRequestDto' on field 'amount': rejected value [19000.0]; codes [DecimalMin.loanStatementRequestDto.amount,DecimalMin.amount,DecimalMin.java.math.BigDecimal,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loanStatementRequestDto.amount,amount]; arguments []; default message [amount],true,20000.0]; default message [Amount must be greater than 20000]] ]
2024-12-05 10:44:08 [http-nio-8080-exec-4] INFO  r.i.c.a.c.CalculatorController - Received request to calculate loan offers:
2024-12-05 10:44:08 [http-nio-8080-exec-4] INFO  r.i.c.api.service.LoanOfferService - Received request for loan offers: LoanStatementRequestDto(amount=21000.0, term=18, firstName=Ivan, lastName=Petrov, middleName=Sergeevich, email=ivan.petrov@example.com, birthdate=1990-05-15, passportSeries=1234, passportNumber=123456)
2024-12-05 10:44:08 [http-nio-8080-exec-4] INFO  r.i.c.a.s.CalculateCreditService - Calculating final rate. isSalaryClient: false, isInsuranceEnabled: false
2024-12-05 10:44:08 [http-nio-8080-exec-4] INFO  r.i.c.a.s.CalculateCreditService - Final rate calculation completed. Final rate: null
2024-12-05 10:44:08 [http-nio-8080-exec-4] INFO  r.i.c.a.s.CalculateCreditService - Calculating monthly payment. Amount: 21000.0, Term: 18, Rate: null
2024-12-05 10:44:08 [http-nio-8080-exec-4] ERROR r.i.c.a.s.CalculateCreditService - Error calculating monthly payment. Amount: 21000.0, Term: 18, Rate: null
java.lang.NullPointerException: Cannot invoke "java.math.BigDecimal.divide(java.math.BigDecimal, int, java.math.RoundingMode)" because "rate" is null
	at ru.iguana.calculator.api.service.CalculateCreditService.calculateMonthlyPaymentAnnuity(CalculateCreditService.java:314)
	at ru.iguana.calculator.api.service.LoanOfferService.calculateOffer(LoanOfferService.java:66)
	at ru.iguana.calculator.api.service.LoanOfferService.getOffers(LoanOfferService.java:24)
	at ru.iguana.calculator.api.controller.CalculatorController.calculateLoanOffers(CalculatorController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2024-12-05 10:44:08 [http-nio-8080-exec-4] ERROR r.i.c.api.service.LoanOfferService - Error occurred while calculating loan offer with isInsuranceEnabled=false, isSalaryClient=false, requestDto=LoanStatementRequestDto(amount=21000.0, term=18, firstName=Ivan, lastName=Petrov, middleName=Sergeevich, email=ivan.petrov@example.com, birthdate=1990-05-15, passportSeries=1234, passportNumber=123456)
java.lang.NullPointerException: Cannot invoke "java.math.BigDecimal.divide(java.math.BigDecimal, int, java.math.RoundingMode)" because "rate" is null
	at ru.iguana.calculator.api.service.CalculateCreditService.calculateMonthlyPaymentAnnuity(CalculateCreditService.java:314)
	at ru.iguana.calculator.api.service.LoanOfferService.calculateOffer(LoanOfferService.java:66)
	at ru.iguana.calculator.api.service.LoanOfferService.getOffers(LoanOfferService.java:24)
	at ru.iguana.calculator.api.controller.CalculatorController.calculateLoanOffers(CalculatorController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2024-12-05 10:44:08 [http-nio-8080-exec-4] ERROR r.i.c.api.service.LoanOfferService - Error occurred while generating loan offers for request: LoanStatementRequestDto(amount=21000.0, term=18, firstName=Ivan, lastName=Petrov, middleName=Sergeevich, email=ivan.petrov@example.com, birthdate=1990-05-15, passportSeries=1234, passportNumber=123456)
java.lang.NullPointerException: Cannot invoke "java.math.BigDecimal.divide(java.math.BigDecimal, int, java.math.RoundingMode)" because "rate" is null
	at ru.iguana.calculator.api.service.CalculateCreditService.calculateMonthlyPaymentAnnuity(CalculateCreditService.java:314)
	at ru.iguana.calculator.api.service.LoanOfferService.calculateOffer(LoanOfferService.java:66)
	at ru.iguana.calculator.api.service.LoanOfferService.getOffers(LoanOfferService.java:24)
	at ru.iguana.calculator.api.controller.CalculatorController.calculateLoanOffers(CalculatorController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2024-12-05 10:44:08 [http-nio-8080-exec-4] ERROR r.i.c.a.c.CalculatorController - Error occurred while calculating loan offers for request: LoanStatementRequestDto(amount=21000.0, term=18, firstName=Ivan, lastName=Petrov, middleName=Sergeevich, email=ivan.petrov@example.com, birthdate=1990-05-15, passportSeries=1234, passportNumber=123456)
java.lang.NullPointerException: Cannot invoke "java.math.BigDecimal.divide(java.math.BigDecimal, int, java.math.RoundingMode)" because "rate" is null
	at ru.iguana.calculator.api.service.CalculateCreditService.calculateMonthlyPaymentAnnuity(CalculateCreditService.java:314)
	at ru.iguana.calculator.api.service.LoanOfferService.calculateOffer(LoanOfferService.java:66)
	at ru.iguana.calculator.api.service.LoanOfferService.getOffers(LoanOfferService.java:24)
	at ru.iguana.calculator.api.controller.CalculatorController.calculateLoanOffers(CalculatorController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2024-12-05 10:44:09 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "java.math.BigDecimal.divide(java.math.BigDecimal, int, java.math.RoundingMode)" because "rate" is null] with root cause
java.lang.NullPointerException: Cannot invoke "java.math.BigDecimal.divide(java.math.BigDecimal, int, java.math.RoundingMode)" because "rate" is null
	at ru.iguana.calculator.api.service.CalculateCreditService.calculateMonthlyPaymentAnnuity(CalculateCreditService.java:314)
	at ru.iguana.calculator.api.service.LoanOfferService.calculateOffer(LoanOfferService.java:66)
	at ru.iguana.calculator.api.service.LoanOfferService.getOffers(LoanOfferService.java:24)
	at ru.iguana.calculator.api.controller.CalculatorController.calculateLoanOffers(CalculatorController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2024-12-05 10:44:37 [main] INFO  r.i.calculator.CalculatorApplication - Application start
2024-12-05 10:44:37 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-12-05 10:44:37 [main] INFO  r.i.calculator.CalculatorApplication - Starting CalculatorApplication using Java 22.0.2 with PID 4544 (D:\JDK and IDEA\Projects JAVA\NeoStudyProject\calculator\target\classes started by Iguan04ka in D:\JDK and IDEA\Projects JAVA\NeoStudyProject\calculator)
2024-12-05 10:44:37 [main] INFO  r.i.calculator.CalculatorApplication - No active profile set, falling back to 1 default profile: "default"
2024-12-05 10:44:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-12-05 10:44:38 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-12-05 10:44:38 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-12-05 10:44:38 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-05 10:44:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-12-05 10:44:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1086 ms
2024-12-05 10:44:39 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-12-05 10:44:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-12-05 10:44:39 [main] INFO  r.i.calculator.CalculatorApplication - Started CalculatorApplication in 2.053 seconds (process running for 2.656)
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.c.CalculatorController - Received request to calculate loan offers:
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.api.service.LoanOfferService - Received request for loan offers: LoanStatementRequestDto(amount=21000.0, term=18, firstName=Ivan, lastName=Petrov, middleName=Sergeevich, email=ivan.petrov@example.com, birthdate=1990-05-15, passportSeries=1234, passportNumber=123456)
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Calculating final rate. isSalaryClient: false, isInsuranceEnabled: false
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Final rate calculation completed. Final rate: 21.00
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Calculating monthly payment. Amount: 21000.0, Term: 18, Rate: 21.00
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Monthly payment calculated: 1370.14
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.api.service.LoanOfferService - Generated loan offer: LoanOfferDto(statementId=902e9efc-e18d-44f0-b3aa-21ebd49f8eb4, requestedAmount=21000.0, totalAmount=24662.52, term=18, monthlyPayment=1370.14, rate=21.00, isInsuranceEnabled=false, isSalaryClient=false)
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Calculating final rate. isSalaryClient: true, isInsuranceEnabled: false
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Final rate calculation completed. Final rate: 20.00
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Calculating monthly payment. Amount: 21000.0, Term: 18, Rate: 20.00
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Monthly payment calculated: 1360.03
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.api.service.LoanOfferService - Generated loan offer: LoanOfferDto(statementId=bb7282f0-d7ef-45d1-bc1d-1051dbc39c6d, requestedAmount=21000.0, totalAmount=24480.54, term=18, monthlyPayment=1360.03, rate=20.00, isInsuranceEnabled=false, isSalaryClient=true)
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Calculating final rate. isSalaryClient: false, isInsuranceEnabled: true
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Final rate calculation completed. Final rate: 18.00
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Calculating insurance. Amount: 21000.0, Term: 18
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Insurance calculated: 30378.00
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Calculating monthly payment. Amount: 51378.00, Term: 18, Rate: 18.00
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Monthly payment calculated: 3278.21
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.api.service.LoanOfferService - Generated loan offer: LoanOfferDto(statementId=69137460-5f9d-403e-819b-e624aa45c304, requestedAmount=51378.00, totalAmount=59007.78, term=18, monthlyPayment=3278.21, rate=18.00, isInsuranceEnabled=true, isSalaryClient=false)
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Calculating final rate. isSalaryClient: true, isInsuranceEnabled: true
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Final rate calculation completed. Final rate: 17.00
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Calculating insurance. Amount: 21000.0, Term: 18
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Insurance calculated: 30378.00
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Calculating monthly payment. Amount: 51378.00, Term: 18, Rate: 17.00
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.s.CalculateCreditService - Monthly payment calculated: 3253.77
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.api.service.LoanOfferService - Generated loan offer: LoanOfferDto(statementId=e4e4887a-c30d-41dc-99b4-96884761740c, requestedAmount=51378.00, totalAmount=58567.86, term=18, monthlyPayment=3253.77, rate=17.00, isInsuranceEnabled=true, isSalaryClient=true)
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.api.service.LoanOfferService - Generated loan offers: [LoanOfferDto(statementId=902e9efc-e18d-44f0-b3aa-21ebd49f8eb4, requestedAmount=21000.0, totalAmount=24662.52, term=18, monthlyPayment=1370.14, rate=21.00, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=bb7282f0-d7ef-45d1-bc1d-1051dbc39c6d, requestedAmount=21000.0, totalAmount=24480.54, term=18, monthlyPayment=1360.03, rate=20.00, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=69137460-5f9d-403e-819b-e624aa45c304, requestedAmount=51378.00, totalAmount=59007.78, term=18, monthlyPayment=3278.21, rate=18.00, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=e4e4887a-c30d-41dc-99b4-96884761740c, requestedAmount=51378.00, totalAmount=58567.86, term=18, monthlyPayment=3253.77, rate=17.00, isInsuranceEnabled=true, isSalaryClient=true)]
2024-12-05 10:44:43 [http-nio-8080-exec-2] INFO  r.i.c.a.c.CalculatorController - Successfully calculated loan offers: [LoanOfferDto(statementId=902e9efc-e18d-44f0-b3aa-21ebd49f8eb4, requestedAmount=21000.0, totalAmount=24662.52, term=18, monthlyPayment=1370.14, rate=21.00, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=bb7282f0-d7ef-45d1-bc1d-1051dbc39c6d, requestedAmount=21000.0, totalAmount=24480.54, term=18, monthlyPayment=1360.03, rate=20.00, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=69137460-5f9d-403e-819b-e624aa45c304, requestedAmount=51378.00, totalAmount=59007.78, term=18, monthlyPayment=3278.21, rate=18.00, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=e4e4887a-c30d-41dc-99b4-96884761740c, requestedAmount=51378.00, totalAmount=58567.86, term=18, monthlyPayment=3253.77, rate=17.00, isInsuranceEnabled=true, isSalaryClient=true)]
